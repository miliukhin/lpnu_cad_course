%xelatex
%shell-escape для minted
\documentclass[a4paper, 12pt, oneside]{extarticle}
\input{$UNI/.templates/settings/preamble.tex}
\input{$UNI/.templates/settings/font_styles.tex}
\input{$UNI/.templates/settings/minted_settings.tex}
\addbibresource{~/Documents/uni/bibliography.bib}

\usepackage[explicit]{titlesec}
% \usepackage[svgnames]{xcolor}

\renewcommand\Variant{$dy(x)/dx = -1,0 y;  y(0) = 0,12$}
% \newcommand\Date{DAY.MONTH.\the\year}
\newcommand\Type{\Lab} % \Lab \Pract \RGR
\Work{num}
% \newcommand\Number{NUMBER}
\newcommand\Topic{
	Чисельне розв’язування \\
диференціального рівняння \\
(№ 6)
}

\usepackage[breakable]{tcolorbox}

\usepackage{blindtext}

\titleformat{\section}
[display]
{\color{black}\normalfont\bfseries}
{}
{0pt}
{\begin{tcolorbox}[arc=0mm, colback=blue!10!white, boxrule=0.2mm, beforeafter skip=0pt, boxsep=0mm]{ #1}\end{tcolorbox}}

\titleformat{\subsection}
[display]
{\color{black}\normalfont\bfseries}
{}
{0pt}
{\begin{tcolorbox}[arc=0mm, colback=blue!10!white, boxrule=0.2mm, beforeafter skip=0pt, boxsep=0mm]{ #1}\end{tcolorbox}}

\titlespacing*{\section}{0pt}{0ex}{-4ex}
\titlespacing*{\subsection}{0pt}{0ex}{-4ex}

\usepackage{multirow}
\usepackage{makecell}
\usepackage{tabularx}

% \setlength{\textfloatsep}{12pt}
\newcommand\tcobx[1]{
\begin{tcolorbox}[breakable, arc=0mm, colback=white, boxrule=0.2mm, beforeafter skip=0pt]
	#1
\end{tcolorbox}
}

\begin{document}
\Margins

\input{../header.tex}
% мета
\tcobx{
	ознайомлення з  методами чисельного інтегрування диференціальних
рівнянь та їх практичним застосуванням.
}

\section*{Завдання}
\tcobx{
	1. Згідно із варіантом, одержати диференціальне рівняння dy(x)/dx та початкову умови y(0).

2. Знайти аналітичний розв’язок рівняння.

3. Скласти програму, яка на основі методу Ейлера, методу Гюна та методу Рунге – Кутта визначає
значення функції y(x) у діапазоні зміни x від 0 до 1, якщо кількість ітерацій становить N = 20.

4. Запустити програму на виконання та одержати результат через консоль.

5. Звести результатами обчислення до таблиці та побудувати графік функції, графік абсолютної похибки і графік відносної похибки залежно від номера ітерації.
}

\section*{Дані згідно з варіантом}

\tcobx{
	\Variant
}

\section*{ Аналітичний розв'язок рівняння }

\tcobx{
\begin{align}
	\dfrac{\mathrm{d}y}{\mathrm{d}x}=-y \implies
	\mathrm{d}y=-y\,\mathrm{d}x \\
	\dfrac{\mathrm{d}y}{y}=-\mathrm{d}x \implies
	\int{\dfrac{1}{y}}{\;\mathrm{d}y}=\int{-1}{\;\mathrm{d}x} \\
	\ln\left(y\right)=C-x \implies
	y={e}^{C-x}=\dfrac{C}{{e}^{x}} \\
	0.12={e}^{C-0} \implies C = \ln 0.12 \\
	y = e^{\ln 0.12 - x}
\end{align}
}

\section*{ Код програми}

\tcobx {
	\inputminted{c++}{diff.cpp}
}

\section*{ Вивід}

\tcobx {
	\verbatiminput{out}
}

\section*{ Результати обчислення}

\subsection*{ Таблиця із результатами обчислення для методу Ейлера}

\tcobx {
\csvautolongtable{euler.csv}
}

\subsection*{ Таблиця із результатами обчислення для методу Гюна}

\tcobx {
\csvautolongtable{heune.csv}
}

\subsection*{ Таблиця із результатами обчислення для методу Рунге-Кутта}

\small
\tcobx {
\csvautolongtable{runge.csv}
}
\normalsize

\subsection*{ Графік функції}

\tcobx {
	\includegraphics[width=\textwidth]{fun}
}

\subsection*{ Графік абсолютної похибки обчислення}

\tcobx {
	\includegraphics[width=\textwidth]{err}
}

\section*{ Висновок}

\tcobx {
У лабораторній роботі розв’язано диференціальне рівняння методами Ейлера, Гюна та Рунге –
Кутта. Програму складено мовою C++, обчислення аналітичного розв’язку, абсолютної похибки
та побудову графіків виконано засобами мови R. Найменшу похибку обчислення забезпечив метод Гюна.
}

\end{document}
