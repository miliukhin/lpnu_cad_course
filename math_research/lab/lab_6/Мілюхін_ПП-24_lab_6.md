---
pdf-engine: xelatex
header-includes:
- \input{$UNI/.templates/settings/preamble.tex}
- \input{$UNI/.templates/settings/minted_settings.tex}
- \newcommand\Type{\Lab}
- \Work{math_research}
- \renewcommand\Variant{13}
- \newcommand\Date{16.\the\month.\the\year}
- \newcommand\Number{6}
- \newcommand\Topic{ТЕОРІЯ СТАТИСТИЧНИХ РІШЕНЬ «ІГРИ З ПРИРОДОЮ»}
---

\input{$UNI/.templates/parts/header.tex}
Ознайомитися з теорією статистичних рішень, навчитись розв’язувати задачі
прийняття рішень за критеріями Вальда, Севіджа, та Гурвіца [6;7]

# Короткі теоретичні відомості.

## Максимінний критерій Вальда.

Згідно з цим критерієм гра з природою ведеться як гра з розумним, причому агресивним
супротивником, що робить все для того, щоб перешкодити нам досягти
успіху. Оптимальною вважається стратегія, при якій гарантується виграш у
будь-якому випадку не менший, ніж «нижня ціна гри з природою»:

$$
a = \max_i\min_ja_{ij}
$$

## Критерій мінімаксного ризику Севіджа.
Цей критерій теж
украй
песимістичний,
але при виборі оптимальної стратегії радить
орієнтуватися не на виграш, а на ризик. Вибирається в якості оптимальної
та стратегія, при якій величина ризику в найгірших умовах мінімальна:

$$
S = \min_i\max_jr_{ij}
$$

Сутність такого підходу в тому, щоб всіляко уникати великого ризику
при прийнятті рішення. У сенсі «песимізму» критерій Севіджа схожий з
критерієм Вальда, але самий «песимізм» тут розуміється по іншому.

## Критерій песимізму-оптимізму Гурвіца.

Цей критерій рекомендує при виборі рішення не керуватися ні крайнім песимізмом,
ні крайнім, легковажним оптимізмом. Згідно з цим критерієм вибирається
стратегія з умови

$$
H = \chi \cdot \min_ia_{ij} + (1-\chi)\cdot \max_ia_{ij}
$$

$\chi$ --- коефіцієнт песимізму, чим ближче до 1, тим менше ми готові ризикувати.

# Етапи розв'язку

Задано матрицю, розробити програмний продукт для вирішення задачі
критерієм Вальда, Севіджа та Гурвіца:

```
Варіант 13. Ступінь оптимізму для критерію Гурвіца, x =0,1
39	10	98	48	87	3
8	71	19	69	58	96
67	15	97	52	100	45
31	73	61	1	23	67
42	38	68	36	94	38
34	44	84	27	13	21
```

## Вальд

```r
> table <- read.csv("data.csv")
> table$min <- apply(table, 1, FUN = min)
> table
  p_1 p_2 p_3 p_4 p_5 p_6 min
1  39  10  98  48  87   3   3
2   8  71  19  69  58  96   8
3  67  15  97  52 100  45  15
4  31  73  61   1  23  67   1
5  42  38  68  36  94  38  36
6  34  44  84  27  13  21  13
> max(table$min)
[1] 36
> which.max(table$min)
[1] 5
```

\csvautotabular{w.csv}

За Вальдом 5 стратегія найоптимальніша

## Севідж

```r
> risk_table <- read.csv("data.csv")
> risk_table$p_1 = max(risk_table$p_1) - risk_table$p_1
> risk_table$p_2 = max(risk_table$p_2) - risk_table$p_2

> risk_table$p_3 = max(risk_table$p_3) - risk_table$p_3
risk_table$p_4 = max(risk_table$p_4) - risk_table$p_4
risk_table$p_5 = max(risk_table$p_5) - risk_table$p_5
risk_table$p_6 = max(risk_table$p_6) - risk_table$p_6
> risk_table$max_risk <- apply(risk_table, 1, FUN = max)
> risk_table
  p_1 p_2 p_3 p_4 p_5 p_6 max_risk
1  28  63   0  21  13  93       93
2  59   2  79   0  42   0       79
3   0  58   1  17   0  51       58
4  36   0  37  68  77  29       77
5  25  35  30  33   6  58       58
6  33  29  14  42  87  75       87
> which.min(risk_table$max_risk)
[1] 3
```

\csvautotabular{r.csv}

3 стратегія найоптимальніша

## Гурвіц

```r
> hurwitz_table <- read.csv("data.csv")
> hurwitz_table$min <- apply(table, 1, FUN = min)
> hurwitz_table$max <- apply(table, 1, FUN = max)
> hurwitz_table
  p_1 p_2 p_3 p_4 p_5 p_6 min max
1  39  10  98  48  87   3   3  98
2   8  71  19  69  58  96   8  96
3  67  15  97  52 100  45  15 100
4  31  73  61   1  23  67   1  73
5  42  38  68  36  94  38  36  94
6  34  44  84  27  13  21  13  84
> khi <- 0.1
> hurwitz_table$h <- (khi*hurwitz_table$min + (1-khi)*hurwitz_table$max)
> hurwitz_table$h <- floor(hurwitz_table$h)
> hurwitz_table
  p_1 p_2 p_3 p_4 p_5 p_6 min max  h
1  39  10  98  48  87   3   3  98 88
2   8  71  19  69  58  96   8  96 87
3  67  15  97  52 100  45  15 100 91
4  31  73  61   1  23  67   1  73 65
5  42  38  68  36  94  38  36  94 88
6  34  44  84  27  13  21  13  84 76
> which.max(hurwitz_table$h)
[1] 3
```

\csvautotabular{h.csv}

Гурвіц вказує, що найоптимальніша стратегія 3.

## Лістинг програми з реалізацією трьох методів

\inputminted{r}{script.r}

# Висновок

* За Вальдом 5 стратегія найоптимальніша
* Гурвіц та Севідж вказують, що найоптимальніша стратегія 3.

Можна обрати 3 стратегію з шансом отримати 100, але якщо ми провалимось, то провалимось значно глибше,
ніж якби обрали 5 стратегію (аж до 15 порівняно з 36).
